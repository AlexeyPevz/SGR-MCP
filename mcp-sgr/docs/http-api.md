# üåê HTTP API

- –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
  - HTTP_REQUIRE_AUTH=true
  - HTTP_AUTH_TOKEN=... (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ x-api-key)
- –ë–∞–∑–æ–≤—ã–π URL: http://localhost:8080

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
–ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫: `x-api-key: <HTTP_AUTH_TOKEN>`

## –†–µ–π—Ç–∫–µ–ø
–ü—Ä–æ—Å—Ç–æ–π in‚Äëmemory RPM –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å (–º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å/–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ RATE_LIMIT_*).

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

- GET /health ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
- POST /v1/apply-sgr ‚Äî –ø—Ä–∏–º–µ–Ω–∏—Ç—å SGR –∫ –∑–∞–¥–∞—á–µ
- POST /v1/wrap-agent ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –≤—ã–∑–æ–≤–∞ –∞–≥–µ–Ω—Ç–∞
- POST /v1/enhance-prompt ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
- POST /v1/learn-schema ‚Äî –æ–±—É—á–µ–Ω–∏–µ —Å—Ö–µ–º—ã (R&D)
- GET /v1/schemas ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ö–µ–º
- GET /v1/cache-stats ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞
- GET /v1/traces ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–µ–π—Å—ã (?limit=10&tool=...)

## OpenAPI
–≠–∫—Å–ø–æ—Ä—Ç —Å—Ö–µ–º—ã:
```bash
python -m src.cli export-openapi --format json --output openapi.json
```